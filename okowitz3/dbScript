
CREATE TABLE USERS
  (USERID VARCHAR(9),
   PASSWORD VARCHAR(10),
   FNAME VARCHAR(20),
   LNAME VARCHAR(30),
   CONSTRAINT pk5 PRIMARY KEY (USERID));
 
CREATE TABLE ROLES
  (ROLEID INT,
   ROLENAME VARCHAR(20),
   DESCRIPTION VARCHAR(80),
   CONSTRAINT pk6 PRIMARY KEY (ROLEID));
 
CREATE TABLE USERROLES
  (USERID VARCHAR(9),
   ROLEID INT,
   CONSTRAINT pk7 PRIMARY KEY (USERID, ROLEID),
   CONSTRAINT fk4 FOREIGN KEY (USERID) REFERENCES
        USERS(USERID),
   CONSTRAINT fk5 FOREIGN KEY (ROLEID) REFERENCES
        ROLES(ROLEID));
 

CREATE TABLE COURSES
  (COURSE VARCHAR(6),
   DESCRIPTION VARCHAR(60),
   CREDITS INT,
   CONSTRAINT pk PRIMARY KEY (COURSE));
 
CREATE TABLE OFFERINGS
( CRN INT,
  COURSE VARCHAR(6),
  SECTION VARCHAR(2),
  DATES VARCHAR(5),
  TIMES VARCHAR(30),
  INSTRUCTOR VARCHAR(30),
  ROOM VARCHAR(20),
  ENROLLMAX INT,
  ENROLLCURRENT INT,
  CONSTRAINT pk2 PRIMARY KEY (CRN),
  CONSTRAINT fk1 FOREIGN KEY (COURSE) REFERENCES COURSES (COURSE));
 
CREATE TABLE STUDENTS
( USERID VARCHAR(9),
  PHONE VARCHAR(12),
  DOB VARCHAR(40),
  MAJOR VARCHAR(20),
  ADDRESS VARCHAR(30),
  CITY VARCHAR(30),
  STATE VARCHAR(2),
  ZIP VARCHAR(5),
  CONSTRAINT pk3 PRIMARY KEY (USERID),
  CONSTRAINT fk8 FOREIGN KEY (USERID) REFERENCES USERS(USERID));
 
CREATE TABLE ENROLLMENTS
( CRN INT,
  SID VARCHAR(9),
  ENROLLDATE VARCHAR(30),
  GRADE VARCHAR(2),
  CONSTRAINT pk4 PRIMARY KEY(CRN, SID),
  CONSTRAINT fk2 FOREIGN KEY (CRN) REFERENCES OFFERINGS(CRN),
  CONSTRAINT fk3 FOREIGN KEY (SID) REFERENCES STUDENTS(SID));
 
